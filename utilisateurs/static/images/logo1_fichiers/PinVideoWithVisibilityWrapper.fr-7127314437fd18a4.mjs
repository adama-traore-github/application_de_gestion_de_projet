(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[13704,77732,68956],{51287:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};n.hash="4be444081491499e2b6e9d6768314918";let a=n},980069:(e,t,i)=>{"use strict";var n,a,r;i.r(t),i.d(t,{default:()=>l});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin"}],type:"Pin",abstractKey:null};s.hash="d2e0a50bcc228858836fdc7f486ff0ac";let l=s},292199:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"},{args:null,kind:"FragmentSpread",name:"useAutoplayOrgVideoOnHover_pin"}],type:"Pin",abstractKey:null};n.hash="8e6a9272e57ad1033c4bf432c3adf854";let a=n},244346:(e,t,i)=>{"use strict";var n,a;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};r.hash="72a606f26ad161609980c86fe071d95e";let s=r},798325:(e,t,i)=>{"use strict";var n,a,r,s;i.r(t),i.d(t,{default:()=>o});let l=(s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[s],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[s,{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="fd4413f593a148c9c1ca83ae9d3ab4e6";let o=l},139704:(e,t,i)=>{"use strict";var n,a;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAutoplayOrgVideoOnHover_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:a,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="2942f85ec1d9274bd2a1e72a4b5cf008";let s=r},549359:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>r});let a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",selections:n=[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",selections:n},params:{cacheID:"9d9a0b4361770e7457fb22c606b3e5f1",id:null,metadata:{},name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",operationKind:"query",text:null}};a.hash="de96be885f09f9032378528575433b38";let r=a;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a.default||a)},817985:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};n.hash="461a57fcc8f7958e3742c217e4cc45a2";let a=n},644566:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="a3cbf6d55cf89d97d6e04c32195968d9";let r=a},537695:(e,t,i)=>{"use strict";var n,a;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:a=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};r.hash="6588018e2880f2695fc6c4ba45aab606";let s=r},855237:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};a.hash="b49953855cdc69f6ee2c8d4925149d23";let r=a},748722:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(339001);function a({altText:e,autoAltText:t,i18n:i}){let a=e?(0,n.nk)(i.bt("Elle contient : {{ altText }}", "This contains: {{ altText }}", "web.altText", undefined, true),{altText:e}).join(""):"",r=t?(0,n.nk)(i.bt("Elle peut contenir : {{ autoAltText }}", "This may contain: {{ autoAltText }}", "web.altText", undefined, true),{autoAltText:t}).join(""):"";return a||r||""}},119351:(e,t,i)=>{"use strict";i.d(t,{Z:()=>T}),i(167912);var n,a,r=i(693967),s=i.n(r),l=i(883119),o=i(748722),d=i(598356),u=i(245399),c=i(54977),p=i(140017),h=i(339001),g=i(223785),m=i(340523),y=i(968508),_=i(785893);let f=void 0!==n?n:n=i(798325);function S({alt:e,onError:t=()=>{},onLoad:i=()=>{},pinKey:n,_fixCompletedOnLoad:a}){let{checkExperiment:r}=(0,m.F)(),{anyEnabled:s}=r("ads_iad_dweb"),o=(0,c.Z)(f,n),{dominantColor:d,isDownstreamPromotion:u,promoter:p}=o,h=!!p&&!u,g=function(e){let t=e.storyPinData?.pages||[],i=(t[0]?.blocks||[])[0]||{};return"StoryPinVideoBlock"===i.__typename&&3===i.blockType}(o),{height:S,width:v,url:b}=function({pin:e,useVideoThumbnail:t}){let i=!(e.imageSpec_474x?.width&&e.imageSpec_474x.height&&e.imageSpec_474x.width>e.imageSpec_474x.height)&&e.imageSpec_474x||e.imageSpec_736x;return t?function(e){let t=e.storyPinData?.pages||[],i=t[0]?.blocks||[],n=i[0]?.__typename==="StoryPinVideoBlock"?i[0]?.video?.videoList?.vHLSV3MOBILE:null;return n?.thumbnail?{height:n?.height||0,width:n?.width||0,url:n.thumbnail||""}:null}(e):i}({pin:o,useVideoThumbnail:g&&(h&&s||!h)})??{};return(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:y.Z.storyPinImage}},"data-test-id":"story-pin-image-box",width:"100%",children:(0,_.jsx)(l.Ee,{_fixCompletedOnLoad:a,alt:e,color:d||"transparent",naturalHeight:S??1,naturalWidth:v??1,onError:t,onLoad:i,src:b||""})})}var v=i(253482);let b=["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid","VisualInspirationFocusPin","VisualInspirationPin","VisualInspirationShoppingPin"],I=void 0!==a?a:a=i(980069),E=({children:e,cropStoryPinImage:t,cropWidth:i,cropHeight:n})=>t?(0,_.jsx)(l.kC,{alignItems:"center",height:i?n:void 0,justifyContent:"start",width:i||void 0,children:e}):(0,_.jsx)(l.xu,{children:e}),T=({cropHeight:e,cropWidth:t,fallbackColor:i,highResOnly:n,imageFit:a,lowResOnly:r,mediumResOnly:m,onError:y,onLoad:f,pinKey:T,saved:P=!1,surface:w,ssrImpressionFixEnabled:x})=>{let L=(0,p.ZP)(),k=(0,d.Xx)(),O=(0,c.Z)(I,T),{altText:A,autoAltText:C,carouselData:R,description:D="",dominantColor:N,gridTitle:F,isThirdPartyAd:V,title:M,videos:H}=O,j=(0,h.nk)(L.bt("Ceci contient une image de : {{ pinTitle }}", "This contains an image of: {{ pinTitle }}", "web.altText", undefined, true),{pinTitle:M||F}).join(""),B=(0,o.Z)({altText:A,autoAltText:C,i18n:L})||!!D?.trim().length&&D||j;if(R)return(0,_.jsx)(v.Z,{_fixCompletedOnLoad:x,highResOnly:n,isThirdPartyAd:V,lowResOnly:r,onError:y,onLoad:f,pinKey:O});let U="",G,K=0,W=0;if(O.embed?.type==="gif")U=O.embed?.src,K=O.embed?.height,W=O.embed?.width;else if(O.imageSpec_736x||O.imageSpec_orig||O.imageSpec_474x||O.imageSpec_236x){let e=O.imageSpec_236x;if(n)e=O.imageSpec_736x||O.imageSpec_orig||O.imageSpec_474x||O.imageSpec_236x;else if(m)e=O.imageSpec_474x||O.imageSpec_orig||O.imageSpec_236x;else{let{thumbnail:t,height:i,width:n}=H?.videoList?.vHLSV4||{};e=t?{url:t,height:i??1,width:n??1}:e}K=e?.height,W=e?.width,U=e?.url,G=r||m||n?e?.url?`${e.url} 1x`:"":[O.imageSpec_236x?.url&&`${O.imageSpec_236x.url} 1x`,O.imageSpec_474x?.url&&`${O.imageSpec_474x.url} 2x`,O.imageSpec_736x?.url&&`${O.imageSpec_736x.url} 3x`,O.imageSpec_orig?.url&&`${O.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}k?.image&&(K=k.image.height,W=k.image.width,U=k.image.url);let Z=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(w)?void 0:g.Ml;return(0,_.jsx)(l.kC,{alignItems:"center",justifyContent:"start",minHeight:Z,children:(0,_.jsx)(l.xu,{flex:"grow",children:(0,_.jsx)("div",{className:s()({savedGradient:P}),children:O.storyPinDataId?(0,_.jsx)(E,{cropHeight:e,cropStoryPinImage:!!t&&b.includes(w),cropWidth:t,children:(0,_.jsx)(S,{_fixCompletedOnLoad:x,alt:B,onError:y,onLoad:f,pinKey:O})}):(0,_.jsx)(l.xu,{"data-test-id":"non-story-pin-image",height:t?e:void 0,width:t||void 0,children:(0,_.jsx)(u.Z,{_fixCompletedOnLoad:x,alt:B,color:"dominant"===i?N??void 0:i,crossOrigin:V?"anonymous":void 0,fit:a,naturalHeight:K??1,naturalWidth:W??1,onError:y,onLoad:f,src:U??"",srcSet:G})})})})})}},568956:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n,a,r,s=i(667294);i(167912);var l=i(883119),o=i(119351),d=i(54977),u=i(558273),c=i(239821),p=i(31327),h=i(306781),g=i(233186),m=i(140017),y=i(785893);let _={__style:{backgroundColor:"#000"}};function f({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:n,pinId:a}){let r=(0,m.ZP)();return(0,y.jsxs)(l.Ee,{alt:r.bt("image d’Épingle", "pin image", "image of a pin", undefined, true),naturalHeight:t,naturalWidth:i,src:e,children:[(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:_,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,y.jsxs)(l.xu,{"data-test-id":`video-end-card-${a}`,direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,y.jsx)(l.iP,{rounding:2,children:(0,y.jsxs)(l.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,y.jsx)(l.JO,{accessibilityLabel:r.bt("Visiter le site", "Visit site", "Button when pressed goes to pin's website", undefined, true),color:"light",dangerouslySetSvgPath:{__path:h.Z},size:25}),(0,y.jsx)(l.xu,{margin:1}),(0,y.jsx)(l.xv,{color:"light",lineClamp:1,weight:"bold",children:r.bt("Visiter le site", "Visit site", "Button when pressed goes to pin's website", undefined, true)})]})}),(0,y.jsx)(l.xu,{margin:3}),(0,y.jsx)(l.iP,{onTap:n,rounding:2,children:(0,y.jsxs)(l.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,y.jsx)(l.JO,{accessibilityLabel:r.bt("Regarder à nouveau", "Watch again", "Button when pressed restarts the video", undefined, true),color:"light",dangerouslySetSvgPath:{__path:g.Z},size:25}),(0,y.jsx)(l.xu,{margin:1}),(0,y.jsx)(l.xv,{color:"light",lineClamp:1,weight:"bold",children:r.bt("Regarder à nouveau", "Watch again", "Button when pressed restarts the video", undefined, true)})]})})]})]})}function S({aspectRatio:e,children:t}){return(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:t})}var v=i(718561);let b=new Set(["ConversationView","TodayTabFeed"]),I=void 0!==n?n:n=i(244346);function E({isAutoplay:e,cropHeight:t,currentTime:i,lowResOnly:n,highResOnly:a,onLoad:r,onError:h,saved:g,onTimeChange:m,isExperimentalPinRep:_,pinKey:E,surface:T,playing:P,rootMargin:w,viewType:x,viewParameter:L,imageHeightModifier:k,cropWidth:O,video:A}){let C;let[R,D]=(0,s.useState)(!1),[N,F]=(0,s.useState)(!P),V=(0,d.Z)(I,E),{isDownstreamPromotion:M,promoter:H}=V,j=(0,u.jL)(!!M,!!H),B=j&&!V.isEligibleForWebCloseup,U=_&&j&&V.isEligibleForWebCloseup&&!b.has(T),{setCurrentVideo:G}=(0,c.I)();e&&P&&N&&F(!1);let{url:K}=V.imageSpec_236x??{},{entityId:W,isPromoted:Z}=V,$=(0,s.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),G({pinId:W,isPromoted:!!Z,currentTime:0}),D(!1)},[Z,W,G]),Y=(0,s.useCallback)(()=>{Z&&D(U)},[U,Z]),z=A??V.videos?.videoList?.vHLSV4;if(!z)return null;let{height:Q,thumbnail:q,width:X,url:J}=z,ee=A?.entityId??V.videos?.entityId??"",et=(X??1)/(Q??1),ei=T&&(0,p.Z)(T)&&"UserProfilePinGrid"!==T;if(ei&&(et=1,C="transparent",k&&(et-=k-1)),R&&j)return(0,y.jsx)(l.xu,{children:(0,y.jsx)(f,{backgroundImage:K??"",naturalHeight:Q??1,naturalWidth:X??1,onRestartVideo:$,pinId:W})});let en={highResOnly:a,lowResOnly:n,onError:h,onLoad:r,pinKey:V,saved:g};ei&&(en={...en,cropHeight:t,cropWidth:O,imageFit:"contain"});let ea=(0,y.jsx)(l.xu,{"data-test-id":"pinrep-video--placeholder","data-test-image-signature":K,children:(0,y.jsx)(S,{aspectRatio:et,children:(0,y.jsx)(o.Z,{...en,ssrImpressionFixEnabled:!1})})});return N?ea:(0,y.jsx)(l.xu,{children:(0,y.jsx)(v.ZP,{aspectRatio:et,backgroundColor:C,captions:"",contextLogData:{viewParameter:L,component:0,objectId:W,video_id:ee,view:x},fallback:ea,hlsConfig:{capLevelToPlayerSize:!0,startPosition:i||-1},isAutoPlay:!!e,loop:B||!_||!j,onEnded:Y,onPlay:()=>{},onPlayError:()=>{},onTimeChange:m,playing:P,poster:K||q||void 0,rootMargin:w,src:[{type:"video/m3u8",src:J}]??[],surface:T,videoStartTime:i,volume:0})})}var T=i(631602),P=i(173690),w=i(890487),x=i(626849),L=i(249803);let k=void 0!==a?a:a=i(139704);function O(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let A=(0,T.Z)(E),C=void 0!==r?r:r=i(292199);class R extends s.Component{constructor(...e){super(...e),O(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:t,videosAutoplaying:i}=this.props,{entityId:n}=t,a=(0,x.Z)(n,i);return this.currentVideoCurrentTime||a||e}),O(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:t,pin:i,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:r}=this.props,{entityId:s,isPromoted:l}=i,o=(0,L.Z)(s,r),d=function(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};for(let t in a){let{paused:i}=a[t];if(t!==e&&!i)return!1}return!0}(s,r);e?l?n({pinId:s,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:s,isPromoted:!!l,currentTime:this.calculateCurrentVideoTime()}):!e&&o&&a({pinId:s,isPromoted:!!l,currentTime:t||this.currentVideoCurrentTime})}),O(this,"handleVideoTimeChange",e=>{let{pin:t,onTimeChange:i,videosAutoplaying:n}=this.props,{entityId:a}=t;(0,L.Z)(a,n)&&(this.currentVideoCurrentTime=e.time),i&&i(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,currentTimeFromPinRep:n,pauseAutoplay:a,pin:r,setCurrentVideo:s,videosAutoplaying:l}=this.props,{entityId:o,isPromoted:d}=r,u=(0,L.Z)(o,l);i!==t&&!i&&u?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:o,isPromoted:!!d,currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:o,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:t,pin:i,videosAutoplaying:n}=this.props,{entityId:a,isPromoted:r}=i;(0,L.Z)(a,n)&&t({pinId:a,isPromoted:!!r,currentTime:e||this.currentVideoCurrentTime})}render(){let{cropHeight:e,isAutoplay:t,pin:i,surface:n,videosAutoplaying:a,viewParameter:r,viewType:s,highResOnly:l,lowResOnly:o,onError:d,onLoad:u,saved:c,isExperimentalPinRep:p,rootMargin:h,cropWidth:g,imageHeightModifier:m,video:_,isVisibilityChangeExpEnabled:f}=this.props,{entityId:S}=i,v=(0,x.Z)(S,a),b=(0,L.Z)(S,a),I={cropHeight:e,rootMargin:h,currentTime:v,isAutoplay:t,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:i,surface:n,playing:b&&t,trackFullVisible:!1,highResOnly:l,lowResOnly:o,onError:d,onLoad:u,saved:c,isExperimentalPinRep:p,cropWidth:g,imageHeightModifier:m,..._?{video:_}:{}};return f?(0,y.jsx)(P.i,{onVisibilityChanged:this.handleVisibilityChanged,rootMargin:h,trackFullVisible:I.trackFullVisible,children:(0,y.jsx)(E,{...I})}):(0,y.jsx)(A,{...I})}}function D({pinKey:e,isHovering:t=!1,...i}){let{appUI:{appInFocus:n,isAutoplay:a,videosAutoplaying:r},pauseAutoplay:l,setCurrentVideo:o}=(0,c.I)(),u=(0,d.Z)(C,e),p=(0,s.useRef)(t),h=(0,w.Z)();return!function({pinKey:e,isHovering:t,hoverState:i}){let n=(0,d.Z)(k,e),{setCurrentVideo:a,pauseAutoplay:r,appUI:{videosAutoplaying:l}}=(0,c.I)(),o=n?.videos?.videoList?.v720P||n?.videos?.videoList?.vHLSV4||n?.videos?.videoList?.vHLSV3MOBILE;(0,s.useEffect)(()=>{if(n){if(i.current!==t){let{entityId:e,isPromoted:i,storyPinData:s}=n,d=(0,x.Z)(e,l);if(o||s?.totalVideoDuration){if(t){let t=function(e,t){let{currentlyPlayingOrganicVideoId:i,organicVideosAutoplaying:n}=t;return i&&i!==e?i:Object.keys(n).find(e=>!1===n[e].paused)}(e,l);t&&r({currentTime:d,pinId:t,isPromoted:!1}),a({currentTime:d,pinId:e,isPromoted:!!i})}else i||r({currentTime:d,pinId:e,isPromoted:!!i})}}i.current=t}},[t,i,r,n,a,o,l])}({pinKey:u,isHovering:t,hoverState:p}),(0,y.jsx)(R,{...i,appInFocus:n,isAutoplay:a,isVisibilityChangeExpEnabled:h,pauseAutoplay:l,pin:u,setCurrentVideo:o,videosAutoplaying:r})}},598356:(e,t,i)=>{"use strict";i.d(t,{Xx:()=>r});var n=i(667294);i(785893),(0,n.createContext)(void 0),i(214877);let a=(0,n.createContext)(void 0),r=()=>(0,n.useContext)(a)},223785:(e,t,i)=>{"use strict";i.d(t,{Dv:()=>r,Ml:()=>s,Oc:()=>n,mv:()=>a});let n=16,a=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},934378:(e,t,i)=>{"use strict";i.d(t,{$N:()=>g,Cu:()=>y,GY:()=>u,MZ:()=>l,NR:()=>c,bC:()=>m,fm:()=>n,id:()=>r,kM:()=>s,q6:()=>a,qp:()=>d,uV:()=>p,ug:()=>h,xL:()=>o});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},s={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},l={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},o={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},d={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},u={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",h="86400",g={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},m="click",y="view"},263032:(e,t,i)=>{"use strict";i.d(t,{YS:()=>l,eF:()=>o,m_:()=>s});var n=i(934378),a=i(976731),r=i(953565);function s(e,t,i,a,s){let l=new URLSearchParams,o=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);l.append(n.NR.SOURCE_EVENT_ID,e??"0"),l.append(n.NR.DESTINATION,JSON.stringify([...o])),l.append(n.NR.EXPIRY,i?n.uV:n.ug),l.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),s&&l.append(n.NR.ADVERTISER_ID,s),a&&l.append(n.NR.CAMPAIGN_ID,a),l.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&l.append(n.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+l.toString()}async function l(e,t,i,n,l,o,d,u,c){let p;let{appType:h,osType:g}=o||{},m="",y="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||u||c)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:h,osType:g}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:h,osType:g}});return}m=s(i,[n,u,c],!1,l,d);try{y=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(y&&"www.pinterest.com"!==y)document.createElement("img").setAttribute("attributionsrc",m),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:h,osType:g,hostname:y}});else if(!(p=await window.fetch(m,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:h,osType:g}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,a.Z)(e,"name"),message:(0,a.Z)(e,"message"),appType:h,osType:g,hostname:y,responseStatus:p&&p.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:h,osType:g}})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},200309:(e,t,i)=>{"use strict";function n(e,t){throw Error(t??`Unexpected value: ${JSON.stringify(e)}`)}i.d(t,{Z:()=>n})},663056:(e,t,i)=>{"use strict";i.d(t,{P:()=>h,Z:()=>p}),i(167912);var n,a,r,s,l=i(54977);let o=void 0!==n?n:n=i(644566),d=void 0!==a?a:a=i(855237),u=void 0!==r?r:r=i(537695),c=void 0!==s?s:s=i(817985);function p(e){let t=(0,l.Z)(c,e),i=function(e){let t=(0,l.Z)(o,e);return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}))??[]}:null}(t),n=function({pinKey:e,index:t}){let i=(0,l.Z)(u,e),n=(i?.richMetadata||i?.richSummary)?.products?.[0]||null,a=function(e){let t=(0,l.Z)(d,e);if(!t)return[];let i={},{image236x:n,image474x:a,image564x:r,image736x:s}=t;return[[n,"236x"],[a,"474x"],[r,"564x"],[s,"736x"]].forEach(([e,t])=>{(Array.isArray(e)?e:[]).forEach(({canonicalImage:e,imageSignature:n})=>{n&&e&&(i={...i,[n]:{...i[n],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(n);return n&&a.length?{carouselId:n.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":i?.image236x&&{height:i.image236x.height,url:i.image236x.url,width:i.image236x.width},"474x":i?.image474x&&{height:i.image474x.height,url:i.image474x.url,width:i.image474x.width},"564x":i?.image564x&&{height:i.image564x.height,url:i.image564x.url,width:i.image564x.width},"736x":i?.image736x&&{height:i.image736x.height,url:i.image736x.url,width:i.image736x.width}}},...a],index:t}:null}({pinKey:t,index:i?.index});return n?{...n,carouselSlots:n.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:i}function h({children:e,pinKey:t}){return e(p(t))}},259866:(e,t,i)=>{"use strict";function n(e){return function e(t,i){let n;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let a=i.find(e=>e.value===t);if(a)return a.result;let r=Object.prototype.toString.call(t);switch(r){case"[object Array]":n=Array(t.length);break;case"[object Set]":n=new Set;break;case"[object Object]":case"[object Arguments]":n={};break;case"[object Map]":n=new Map;break;default:return t}let s=[...i,{value:t,result:n}];switch(r){case"[object Array]":t.forEach((t,i)=>{n[i]=e(t,s)});break;case"[object Set]":t.forEach(t=>{n.add(e(t,s))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,i])=>{n[t]=e(i,s)});break;case"[object Map]":t.forEach((t,i)=>{n.set(i,e(t,s))})}return n}(e,[])}i.d(t,{Z:()=>n})},541841:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(973935);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s extends n.Component{constructor(...e){super(...e),r(this,"observer",null),r(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let l=s},306781:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},233186:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},245399:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),a=i(883119),r=i(687997),s=i(785893);function l(e){(0,n.useContext)(r.Z);let{alt:t,color:i,children:l,crossOrigin:o,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:h,naturalHeight:g,naturalWidth:m,onError:y,onLoad:_,role:f,sizes:S,src:v,srcSet:b,_fixCompletedOnLoad:I}=e;return(0,s.jsx)(a.Ee,{_fixCompletedOnLoad:I,alt:t,color:i,crossOrigin:o,decoding:d,elementTiming:u,fetchPriority:c,fit:p,loading:h,naturalHeight:g,naturalWidth:m,onError:y,onLoad:_,role:f,sizes:S,src:v,srcSet:b,children:l})}},547643:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(340523),a=i(5859),r=i(84768);function s(e){let{isAuthenticated:t}=(0,a.B)(),{expName:i,anyEnabled:s,group:l}=function({experimentsClient:e,handlerId:t,isAuthenticated:i,skipActivation:n}){let{checkExperiment:a}=e,r=a(i?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:n});return r.group?{expName:i?"web_masonry_v2_auth":"web_masonry_v2_unauth",...r}:"www/[username]/[slug].js"!==t||i?"www/pin/[id].js"!==t||i?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...a("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:n})}:{expName:"web_masonry_v2_unauth_board",...a("web_masonry_v2_unauth_board",{dangerouslySkipActivation:n})}}({experimentsClient:(0,n.F)(),handlerId:(0,r.MM)(),isAuthenticated:t,skipActivation:e?.skipActivation??!1});return{expName:i,anyEnabled:s,group:l,isMeasureAllEnabled:"enabled_measure_all"===l||"enabled_measure_all_impression_fix"===l,isImpressionFixEnabled:"control_impression_fix"===l||"enabled_impression_fix"===l||"enabled_measure_all_impression_fix"===l}}},381458:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y,G:()=>h});var n=i(441143),a=i.n(n),r=i(244311),s=i(698681),l=i(226618);let o="undefined"!=typeof WeakSet,d="undefined"!=typeof WeakMap,u=function e(t,i){if(t===i||"object"!=typeof t||t instanceof Set||t instanceof Map||o&&t instanceof WeakSet||d&&t instanceof WeakMap||!t||"object"!=typeof i||i instanceof Set||i instanceof Map||o&&i instanceof WeakSet||d&&i instanceof WeakMap||!i)return i;let n=!1,a=Array.isArray(t)?t:null,r=Array.isArray(i)?i:null;if(a&&r)n=r.reduce((t,i,n)=>{let s=e(a[n],i);return s!==r[n]&&(r[n]=s),t&&s===a[n]},!0)&&a.length===r.length;else if(!a&&!r){let a=(0,l.G5)(i);if(a&&(0,l.I9)(t,a),t===i)n=!0;else{let a=Object.keys(t),r=Object.keys(i);n=r.reduce((n,a)=>{let r=e(t[a],i[a]);return r!==i[a]&&(i[a]=r),n&&r===t[a]},!0)&&a.length===r.length}}return n?t:i};var c=i(589209),p=i(953565);let h=Symbol("inlineFragmentSpread"),g=({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:n,selections:r,legacyData:o,paginationInfo:d,refetchInfo:u})=>{r.forEach(r=>{switch(r.kind){case"ScalarField":{let{alias:e,name:t}=r;i[e??t]=(0,s.mC)(t,n,o);break}case"LinkedField":{let{alias:l,name:c,concreteType:p,plural:h,selections:m}=r,y=l??c,_=(0,s.LJ)(o,n,r);if(null==_){i[y]=_;return}if(h){let n=(0,s.cG)({untypedInput:_,concreteType:p}),r=i[y];a()(!r||Array.isArray(r),"plural data must be an array"),i[y]=n?.filter(Boolean).map((i,n)=>{let a=r?.[n]??{};return g({conditionContext:e,fragmentName:t,mutableOutput:a,parentType:p,selections:m,legacyData:i,refetchInfo:u,paginationInfo:d}),a})}else{a()("object"==typeof _,`Value for ${c} must be an object${p?` with type ${p}`:""}, but a ${typeof _} is given`);let n=i[y]??{};i[y]=n,g({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:p,selections:m,legacyData:_,refetchInfo:u,paginationInfo:d})}break}case"InlineFragment":{let{abstractKey:n,type:l,selections:c}=r;if(a()(null!=l&&null===n,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==o)break;let p=(0,s.uC)(o);null!=p&&(0,s.Z1)(l,p)&&g({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:l,selections:c,legacyData:o,paginationInfo:d,refetchInfo:u});break}case"Condition":{let{condition:a,selections:s}=r,l=!0;"isAuth"===a?l=e.isAuth===r.passingValue:"isDesktop"===a&&(l=e.isDesktop===r.passingValue),l&&g({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:n,selections:s,legacyData:o,paginationInfo:d,refetchInfo:u});break}case"FragmentSpread":(0,l.I9)(i,{kind:"LegacyData",singularLegacyData:o,refetchInfo:u,paginationInfo:d});break;case"ClientExtension":g({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:n,selections:r.selections,legacyData:o,paginationInfo:d,refetchInfo:u});break;case"InlineDataFragmentSpread":{let t={},{selections:a,name:s}=r;g({conditionContext:e,fragmentName:s,mutableOutput:t,parentType:n,selections:a,legacyData:o,paginationInfo:d,refetchInfo:u}),i[h]||(i[h]={}),i[h][s]=t;break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${r.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${r.kind}'`)}})},m=new Set;function y({conditionContext:e,fragment:t,legacyData:i,paginationInfo:n,refetchInfo:l,stableReferencesExperimentStatus:o}){let d;let h=(0,r.getFragment)(t);try{d=function({conditionContext:e,fragment:t,legacyData:i,paginationInfo:n,refetchInfo:r}){if(null==t.abstractKey){let e=null!=i?(0,s.uC)(i):null;null!=e&&a()((0,s.Z1)(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let l={};return g({conditionContext:e,fragmentName:t.name,mutableOutput:l,parentType:t.type,selections:t.selections,legacyData:i,paginationInfo:n,refetchInfo:r}),l}({conditionContext:e,fragment:h,legacyData:i,paginationInfo:n,refetchInfo:l})}catch(t){throw m.has(h.name)||(m.add(h.name),(0,p.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:h.name,rootId:i.id,rootType:i.type,url:window.location.href,isAuth:e.isAuth}})),t}let y=i.id;if(!o?.shouldCalculateStableReferences||!y)return d;let _=function({cacheKey:e,data:t}){let i=(0,c.aL)(e),n=t;if(null!=i){let a=u(i.data,t);a!==i.data&&(0,c.ax)(e,{count:i.count,data:a}),n=a}else(0,c.ax)(e,{count:0,data:t});return(0,c.U5)(e),setTimeout(()=>(0,c.H8)(e),3e4),n}({cacheKey:(0,c._0)(h,i.id),data:d});return o?.shouldUseStableReferences?_:d}},698681:(e,t,i)=>{"use strict";i.d(t,{Cs:()=>m,LJ:()=>P,Z1:()=>x,cG:()=>E,mC:()=>I,uC:()=>O});var n=i(441143),a=i.n(n);let r={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},s=/(\d\d0P)(\d\d0K)/,l=/QVBR(8|10)/,o=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d=/^v/,u=e=>r[e]??e.replace(o,"_$1").replace(s,"$1_$2").replace(l,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(d,"V"),c=/[A-Z]/g,p=e=>e.replace(c,e=>`_${e.toLowerCase()}`),h=/^_/,g=e=>e.replace(h,""),m=e=>g(p(e)),y=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],_=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],f=(e,t)=>{if(_.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return a()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return m(e)}},S=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,v=(e,t,i)=>{if(S(i)){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===i&&"image"===e)return"images";if("VideoDetail"===t)return u(e);if(y.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";case"formattedCloseupDescription":return"formatted_description";default:return m(e)}},b=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},I=(e,t,i)=>"Video"===t&&"duration"===e?i?.duration!=null?i.duration:Object.values(i?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t:b(e,i?.[f(e,i)]),E=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(a()("object"==typeof e,"legacy data must be an object"),t){case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},T=({args:e,name:t})=>{let i=e.find(e=>e.name===t);return i&&"string"==typeof i.value?i.value:null},P=(e,t,i)=>{let{args:n,name:r}=i;if("PinTagChipImagesPerSpec"===t&&"image"===r)return e?.images?.["750x"];let s=e?.[v(r,i.concreteType,t)];if(!s)return s;let l=T({args:n??[],name:"spec"});if(l){if(a()("object"==typeof s,"value must be an object"),S(t)){let{dominant_color:e,images:t}=s;if(!t)return t;a()("object"==typeof t,"images must be an object");let i=t["orig"===l?"originals":l];return i&&e?{...i,dominant_color:e}:i}return s[l]}return s},w={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent",RichPinProductMetadata:"RichProductMetadata"},x=(e,t)=>(w[e]??e).toLowerCase()===t,L={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},k=/_/g,O=e=>"string"==typeof e.type?e.type.replace(k,"").toLowerCase():"number"==typeof e.block_type?L[e.block_type].toLowerCase():void 0},91402:(e,t,i)=>{"use strict";i.d(t,{gP:()=>a,jc:()=>s,oy:()=>r});var n=i(226618);function a(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let i=(0,n.G5)(t);if(null!=i)return{kind:"PluralLegacy",data:e.map(e=>(e=>{let t=(0,n.Be)(e);if("LegacyData"===t.kind)return t.singularLegacyData;throw Error("Unexpected plural object")})(e)),paginationInfo:i.paginationInfo,refetchInfo:i.refetchInfo};throw Error("Expected either __fragments or [legacyDataSymbol]")}let t=(0,n.G5)(e);if(null!=t&&"LegacyData"===t.kind){let{singularLegacyData:e,refetchInfo:i,paginationInfo:n}=t;return{kind:"SingularLegacy",data:e,refetchInfo:i,paginationInfo:n}}if(e.__fragments)return{kind:"GraphQL",data:e};if("graphqlRef"===e.type)return{kind:"GraphQL",data:e.data};if("deprecated"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}throw Error("Invalid value")}function r(e){return a(e).kind}function s(e){let t=(0,n.G5)(e);return null!=t&&"LegacyData"===t.kind&&null!=t.singularLegacyData?{type:"deprecated",data:t.singularLegacyData}:e.__fragments?{type:"graphqlRef",data:e}:e}},226618:(e,t,i)=>{"use strict";i.d(t,{Be:()=>r,G5:()=>a,I9:()=>s});let n=Symbol("legacyData");function a(e){return e[n]}function r(e){return e[n]}function s(e,t){return e[n]=t,e}},333739:(e,t,i)=>{"use strict";i.d(t,{qH:()=>w,tx:()=>x,Zm:()=>_,HF:()=>T,sr:()=>P,O7:()=>f,V4:()=>E});var n=i(545007),a=i(381458);function r(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function s(e,t,i){return"Manual"===t?{path:e,message:`Value found only in legacy adapter, where it had type ${r(i)}. (Or it was null in the auto-legacy adapter.)`,kind:"MissingInLegacy"}:{path:e,message:`Value found only in auto-legacy adapter, where it had type ${r(i)}. (Or it was null in the legacy adapter.)`,kind:"MissingInAutoLegacy"}}function l(e,t,i){let n=r(t),a=r(i);return{path:e,message:`Found item of type ${n} in the legacy adapter result, and an item of type ${a} in the auto-legacy result.`,kind:"Type"}}var o=i(226618),d=i(582008),u=i(340523),c=i(5859),p=i(554786),h=i(19447),g=i(953565);let m={},y=new Set;function _(e,t,{useGraphQLAdapter:i,useLegacyAdapter:n,renderStrategy__DO_NOT_USE:a}){if("deprecated"===t.type)return{data:n(t.data),childDataKey__DEPRECATED:t};let r=(0,d.h)(e,t.data,a??null);return{data:i(r),childDataKey__DEPRECATED:{type:"graphqlRef",data:r}}}let f=()=>{let{isAuthenticated:e}=(0,c.B)();return{isAuth:!!e,isDesktop:(0,p.HG)()}};function S(){return"undefined"!=typeof performance?performance.now():Date.now()}function v(e){let t=S();return[e(),S()-t]}let b=new Map;function I(e,t,i,n){let a=b.get(n);if(a){if(!a.has(t)){let[n,r]=v(e);return a.add(t),(0,g.LY)(t,r,{sampleRate:i.isParallel?1:.1,tags:i}),n}}else{let[a,r]=v(e);return b.set(n,new Set([t])),(0,g.LY)(t,r,{sampleRate:i.isParallel?1:.1,tags:i}),a}return e()}function E(e,t){let{checkExperiment:i}=(0,u.F)(),{isAuthenticated:n}=(0,c.B)(),{group:d,anyEnabled:p}=i(n?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),h=f();return d.includes("parallel")?i=>{let n=I(()=>(0,o.I9)(t(i),{kind:"LegacyData",singularLegacyData:i,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{isParallel:!0,fragmentName:e.name},e.name);return"object"==typeof window&&function(e,t,i,n){let o;try{o=I(()=>(0,a.Z)({conditionContext:t,fragment:e,legacyData:i,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!0},e.name)}catch{return}try{var d;let t=(d=o,function e(t,i,n){let a=[],o=Object.keys(i),d=Object.keys(n);for(let d of o){let o=i[d],u=n[d];a.push(...function t(i,n,a){return null!=n&&null==a?[s(i,"Manual",n)]:n===a||null==n&&null==a?[]:Array.isArray(n)?Array.isArray(a)?function(e,i,n){if(i.length!==n.length)return[{path:e,message:`legacyResult is an array of length ${i.length}; autoLegacyResult is an array of length ${n.length}`,kind:"Length"}];let a=[];for(let r=0;r<i.length;r+=1){let s=i[r],l=n[r];a.push(...t(`${e}[]`,s,l))}return a}(i,n,a):[l(i,n,a)]:"object"==typeof n?"object"==typeof a&&null!==a&&null!==n?e(i,n,a):[l(i,n,a)]:[typeof n!=typeof a?l(i,n,a):{path:i,message:`Found items of type ${r(n)}, but their values did not match.`,kind:"Value"}]}(`${t}.${d}`,o,u))}for(let e of d){let r=i[e],l=n[e];null!=l&&null==r&&a.push(s(`${t}.${e}`,"Auto",l))}return a}("",n,d));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),m[e.name]=m[e.name]??new Set;let i=m[e.name];for(let n of t)i.has(n.path)||(i.add(n.path),(0,g.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:n.path,kind:n.kind}}))}}catch(t){y.has(e.name)||(y.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,g.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,h,i,n),n}:p?t=>I(()=>(0,a.Z)({conditionContext:h,fragment:e,legacyData:t,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!1},e.name):i=>I(()=>(0,o.I9)(t(i),{kind:"LegacyData",singularLegacyData:i,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{fragmentName:e.name,isParallel:!1},e.name)}function T(e,t,i){let a;switch(i.type){case"article":a=e=>{let t=(0,n.v9)(({articles:t})=>t[e]);return t?i.useLegacyAdapter(t):null};break;case"story":a=e=>{let t=(0,n.v9)(({stories:t})=>t[e]);return t?i.useLegacyAdapter(t):null};break;default:a=e=>{let t=(0,h.S6)()(e);return t?i.useLegacyAdapter(t):null}}return _(e,t,{useGraphQLAdapter:i.useGraphQLAdapter,useLegacyAdapter:a,renderStrategy__DO_NOT_USE:i.renderStrategy__DO_NOT_USE??null})}function P(e,t,i){let n=E(e,i.useLegacyAdapter);return T(e,t,{...i,useGraphQLAdapter:e=>e,useLegacyAdapter:n})}let w=void 0,x={" $fragmentSpreads":w," $fragmentType":void 0}},589209:(e,t,i)=>{"use strict";i.d(t,{H8:()=>d,Ly:()=>l,U5:()=>o,_0:()=>p,aL:()=>u,ax:()=>c,w3:()=>h});var n=i(340523),a=i(5859),r=i(953565);let s=new Map;function l(e){let t=(0,n.F)(),{isAuthenticated:i}=(0,a.B)();if(!e)return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1};switch(t.checkExperiment(i?"auth_web_gql_ala_cache":"unauth_web_gql_ala_cache").group){case"control":default:return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1};case"enabled":return{shouldCalculateStableReferences:!0,shouldUseStableReferences:!0};case"enabled_only_calculation":return{shouldCalculateStableReferences:!0,shouldUseStableReferences:!1}}}function o(e){let t=s.get(e);t&&s.set(e,{count:t.count+1,data:t.data})}function d(e){let t=s.get(e);if(!t){let t=e.split("/")[0];throw(0,r.nP)("autoLegacyAdapter.stableReferences.cacheItemMissing",{sampleRate:1,tags:{fragmentName:t}}),Error(`Item with key ${e} not found in cache`)}if(1===t.count){s.delete(e);return}s.set(e,{count:t.count-1,data:t.data})}function u(e){return s.get(e)}function c(e,t){s.set(e,t)}function p(e,t){return`${e.name}/${t}`}function h(e,t,i){let n=t?.id;return n?{key:p(e,n),data:i}:null}},54977:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(422578),a=i(244311),r=i(200309),s=i(381458),l=i(91402),o=i(333739),d=i(589209),u=i(667294),c=i(953565);let p=function(e,t){let i=(0,o.O7)(),p=t?(0,l.gP)(t):null,h=p?.kind==="SingularLegacy"||p?.kind==="PluralLegacy",g=null,m=null,y=(0,a.getFragment)(e),_=(0,d.Ly)(h);if(p?.kind==="SingularLegacy"){let{data:t,refetchInfo:n,paginationInfo:a}=p,r=(0,s.Z)({conditionContext:i,fragment:e,legacyData:t,paginationInfo:a,refetchInfo:n,stableReferencesExperimentStatus:_});m=[{legacyData:t,graphQLShapedData:r}],g=[r]}else if(p?.kind==="PluralLegacy"){let{data:t,refetchInfo:n,paginationInfo:a}=p;g=[],m=[],t.forEach(r=>{let l=(0,s.Z)({conditionContext:i,fragment:e,legacyData:r,paginationInfo:a,refetchInfo:n,stableReferencesExperimentStatus:_});g?.push(l),m?.push({legacyData:t,graphQLShapedData:l})})}if(!function({items:e,shouldCalculateStableReferences:t}){(0,u.useEffect)(()=>{if(e&&t)return e.forEach(e=>{let{key:t,data:i}=e;if(!(0,d.aL)(t)){let e=t.split("/")[0];(0,c.nP)("autoLegacyAdapter.stableReferences.useRetainWhileMounted.cacheItemMissing",{sampleRate:1,tags:{fragmentName:e}}),(0,d.ax)(t,{count:0,data:i})}(0,d.U5)(t)}),()=>{e.forEach(({key:e})=>(0,d.H8)(e))}},[e?.map(({key:e})=>e).join(","),t])}({shouldCalculateStableReferences:_.shouldCalculateStableReferences,items:m?.map(({legacyData:e,graphQLShapedData:t})=>d.w3(y,e,t)).filter(e=>null!=e)}),null===t||null==p)return null;switch(p.kind){case"SingularLegacy":return g?.[0];case"PluralLegacy":return g;case"GraphQL":return(0,n.useFragment)(e,p.data);default:return(0,r.Z)(p,"Unexpected case")}}},582008:(e,t,i)=>{"use strict";i.d(t,{P:()=>c,h:()=>p});var n,a=i(667294),r=i(422578),s=i(244311),l=i(91402),o=i(54977);function d(e,t,a){return a.lookup({kind:"SingularReaderSelector",dataID:t.__id,isWithinUnmatchedTypeRefinement:!1,node:(0,s.getFragment)(e),owner:{identifier:Math.random()+"",node:(0,s.getRequest)(void 0!==n?n:n=i(549359)),variables:t.__fragmentOwner.variables,cacheConfig:null},variables:t.__fragmentOwner.variables})}function u(e,t,i){switch(i??"SuspendOnMissingData"){case"SuspendOnMissingData":default:return(0,r.useFragment)(e,t);case"RenderWithMissingData":{let i=(0,r.useRelayEnvironment)();if(null==t)return null;return d(e,t,i).data}case"RenderWithMissingDataAndSubscribe":return function(e,t){let i=t?.__fragmentOwner.identifier,n=(0,r.useRelayEnvironment)(),[s,l]=(0,a.useState)(()=>({fragmentRefIdentifier:i,snapshot:null!=t?d(e,t,n):null}));return s.fragmentRefIdentifier!==i&&l({fragmentRefIdentifier:i,snapshot:null!=t?d(e,t,n):null}),(0,a.useEffect)(()=>{if(null!=s.snapshot){let e=n.subscribe(s.snapshot,e=>{l({fragmentRefIdentifier:i,snapshot:e})});return()=>e.dispose()}},[i]),s.snapshot?.data??null}(e,t)}}let c=function(e,t,i){if(null==t)return null;let n=(0,l.gP)(t);return"GraphQL"===n.kind?u(e,n.data,i):(0,o.Z)(e,t)},p=u},666472:(e,t,i)=>{"use strict";i.d(t,{F:()=>y,Z:()=>m});var n=i(667294),a=i(263032),r=i(214877),s=i(547643),l=i(30378),o=i(5859),d=i(554786),u=i(369708),c=i(237040),p=i(953565),h=i(84768);let g={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function m({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:m,contextLogData:y,clientTrackingParams:_,duploShouldTrackPinEvents:f,elementType:S,impressionAuxFields:v,inImpressionExp:b,impressionType:I,impressionsFramework:E,isPaused:T,loggingId:P,objectIdStr:w,slotIndex:x,trackCarousel:L,viewData:k,viewParameter:O,viewType:A,isPromoted:C,storyPinProductEventData:R,pinData:D}){let{logContextEvent:N}=(0,r.v)(),{logMrcVideoAdEventOnPlay:F}=(0,u.r)(),{logStat:V}=(0,c.Yg)(),M=E||l.Z,H=(0,n.useRef)(null),j=n=>{let r=g[I],s=r.idType,l={clientTrackingParams:_,endTime:n.endTime,[s]:P,slotIndex:x,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...v,forcedExit:"removed"===n.forcedExit?0:void 0},o={};if("Pin"===I){let e=[],t=n.visibleEvents||new Map,i=n.hiddenEvents||new Map;if([1,50,80,2].forEach(n=>{t.has(n)&&e.push({type:n,time:t.get(n)||0,visible:!0}),i.has(n)&&e.push({type:n,time:i.get(n)||0,visible:!1})}),l={...l,pinCellWidth:H.current?.offsetWidth||0,pinCellHeight:H.current?.offsetHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},v?.chromeAraViewExp&&D&&D.isPromoted){let{attributionSourceId:e}=D;(0,a.YS)(I,D.isPromoted??null,e??null,D.link??null,D.campaignId??null,v.araAuxData??null,D.advertiserId??null,D.domain??null,D.adDestinationUrl??null),o={is_arapi:!0,attribution_source_id:e||""}}}let d={component:m,object_id_str:w,view_type:A,view_data:k||{},view_parameter:O};if(L)e&&L&&N({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...l,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...y,...o}});else{let e={clientTrackingParams:_,event_type:r.eventType,...d,element:S,event_data:{[r.impressionType]:"Story"===I?l:[l],...R?{storyPinProductEventData:R}:{}},aux_data:{closeup_navigation_type:i,...y,...o}};N(e),F(e)}f&&V("log_pin_impression")},{expName:B,group:U}=(0,s.Z)({skipActivation:!0}),G=(0,d.ZP)(),K=(0,h.MM)(),{isAuthenticated:W}=(0,o.B)(),Z=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=H;if(t instanceof HTMLElement&&(!C||t.getElementsByTagName("img").length>0)){let i=M.start(t);i.onExitViewport(j).setDebugId(P||"unknown"),f&&i.onEnterViewport(()=>{V("log_pin_impression_track_enter_viewport")}),e=!0,U&&(0,p.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:G,experimentName:B,group:U,handlerId:K,isAuthenticated:W,slotIndex:x??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}f&&V("log_pin_impression_track",{didStartTracking:e})},[H.current]);return(0,n.useEffect)(()=>(b&&!M.inExperiment&&M.setExperimentStatus(!0),T||Z(),()=>{let{current:e}=H;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&M.stop(e)}),[T,Z]),H}let y=({children:e,...t})=>e({impressionTrackerRef:m(t)})},307772:(e,t,i)=>{"use strict";function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>c,LU:()=>p,ZP:()=>h});let a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,i),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,i):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,i),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,i):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,i),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,i),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,i),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,i),t&&!this.inViewport?(this.startTime=i,this._debug(r.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,a&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(a)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),o[e]&&Object.assign(this.node.style,o[e]),e){case r.flushed:case r.paused:case r.exit:s[this.debugId]=!0}}}function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=!0,p=!1;class h{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=new(i(307772)).ZP},339001:(e,t,i)=>{"use strict";i.d(t,{Wc:()=>d,XB:()=>o,bF:()=>c,nk:()=>l,r7:()=>p});var n=i(667294),a=i(785893);function r(e,t,i){return e.split(i).map(e=>{if(e.match(i)){let i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e})}let s=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return r(e,t,s)}function o({text:e,markers:t,jsxReplacements:i}){let n=["strong","a","em","span"],a=/(\{\{\s*\w+\s*\}\})/g,s=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,l=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,o=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,d=e.match(s)?.map(e=>{let n=e.match(l),s=(n&&n[2])??0,d=e.match(o),u=(d&&d[2])??"",c=t?r(u,t,a):[u];return s&&i&&i[s]?.({innerHtmlStrings:c})});return e.split(s)?.map(e=>n.some(t=>e===t)?d?.shift():t?r(e,t,a):e)}function d(e,t){return r(e,t,s).join("")}let u=/(\{\s*\w+\s*\})/g;function c(e,t){return r(e,t,u)}let p=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,a.jsx)(n.Fragment,{children:e},t)):e},59545:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),a(this,"ref",(0,n.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let s=r},705895:(e,t,i)=>{"use strict";function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});let a=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},r=e=>{if(e.isHidden){let{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(t))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>r({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>r({isHidden:!1})),window.addEventListener("blur",()=>r({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>r({isHidden:!1})),window.addEventListener("pagehide",()=>r({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let s=a},558273:(e,t,i)=>{"use strict";i.d(t,{NK:()=>y,P6:()=>r,ZE:()=>g,Zt:()=>m,_J:()=>o,_S:()=>_,cL:()=>p,jL:()=>l,oN:()=>a,rM:()=>h,sV:()=>d,sY:()=>u});var n=i(115557);let a=5e3,r=5e3/n.gJ,s=["Uploaded by user"],l=(e,t)=>!!t&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&!c(t),h=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,g=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n})=>t||n||e||i||"",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function _(e){for(let t of s)if(e===t)return!1;return!0}},631602:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(667294),a=i(973935),r=i(785893);function s(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let l=new Map,o=null,d=e=>{e.forEach(e=>{let t=l.get(e.target);t&&t(e)})},u=e=>{o.unobserve(e),l.delete(e)},c=(e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(d,n),l.set(e,i),o.observe(e)},p=e=>l.has(e),h=e=>{class t extends n.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"enter",e=>{let t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{let e=this._node;e&&p(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=a.findDOMNode(this)}catch(e){return}if(!this._node)return;let t=this._node;c(t,e,e=>{if(!l.has(t))return;let i=this.props.trackFullVisible?e.intersectionRatio>=1:e.intersectionRatio>=.5,n=this.props.trackFullVisible?0===e.intersectionRatio:!i;!this.seen&&i?this.enter(e):this.seen&&n&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),u(e))}render(){return(0,r.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},890487:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(340523),a=i(149722);let r=()=>{let{checkExperiment:e}=(0,n.F)(),{anyEnabled:t}=e((0,a.Z)().isAuth?"web_visiblity_change_deprecation_auth":"web_visiblity_change_deprecation_unauth");return t}},173690:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p,i:()=>h});var n=i(667294),a=i(883119),r=i(785893);let s=new Map,l=null,o=e=>{e.forEach(e=>{let t=s.get(e.target);t&&t(e)})},d=e=>{l.unobserve(e),s.delete(e)},u=(e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(o,n),s.set(e,i),l.observe(e)},c=e=>s.has(e);function p({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let a=(0,n.useRef)(null),r=!1,l=t=>{(r=t.intersectionRatio>0||t.isIntersecting)&&e(!0)},o=()=>{a.current instanceof HTMLElement&&c(a.current)&&r&&(e(!1),r=!1)},p=(0,n.useCallback)(e=>{a.current instanceof HTMLElement&&u(a.current,e,e=>{if(!s.has(a.current))return;let i=t?e.intersectionRatio>=1:e.intersectionRatio>=.5,n=t?0===e.intersectionRatio:!i;!r&&i?l(e):r&&n&&o()})},[a.current]);return(0,n.useEffect)(()=>(p(i),()=>{a.current instanceof HTMLElement&&(o(),d(a.current))}),[p]),a}let h=({onVisibilityChanged:e,children:t,...i})=>{let n=p({onVisibilityChanged:e,...i});return(0,r.jsx)(a.xu,{ref:n,children:t})}},369708:(e,t,i)=>{"use strict";i.d(t,{W:()=>u,r:()=>d});var n=i(667294),a=i(214877),r=i(342513),s=i(340523),l=i(785893);let{Provider:o,useHook:d}=(0,r.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:i}=(0,a.v)(),{checkExperiment:r}=(0,s.F)(),[d,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[m,y]=(0,n.useState)({}),_=r("web_ads_mrc_video_impression").anyEnabled,f=e=>{y(t=>({...t,[e]:!0}))},S=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=(e.aux_data?.commerce_data||"").includes("story_pin_id");_&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[_]),v=(0,n.useCallback)(e=>{18===e.eventType&&_&&g(t=>[...t,e].slice(-1e3))},[_]),b=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},I=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!m[i]||!_||(t(b(e)),!1)});e.length!==c.length&&p(e)},[c,_,t,m]),(0,n.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&_){let t=I(e);return t&&i(t),!1}return!0});e.length!==h.length&&g(e)},[h,_,i,m]);let E=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:S,setCaptionsEnabled:u,setVideoPlayed:f,videosPlayed:m}),[d,S,v,m]);return(0,l.jsx)(o,{value:E,children:e})}},626849:(e,t,i)=>{"use strict";function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return a[e]&&a[e].currentTime}i.d(t,{Z:()=>n})},249803:(e,t,i)=>{"use strict";function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return!!a[e]&&!a[e].paused}i.d(t,{Z:()=>n})},115557:(e,t,i)=>{"use strict";i.d(t,{$f:()=>a,Cy:()=>o,DR:()=>n,Fm:()=>l,bR:()=>s,gJ:()=>r,lG:()=>d});let n=1,a=2,r=1e3,s=1e3,l=1e3,o=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},537513:(e,t,i)=>{"use strict";i.d(t,{Z$:()=>s,by:()=>l,eL:()=>r});var n=i(419075),a=i(217058);let r=e=>{if("undefined"==typeof window)return"";let t=0,i=document.querySelector('[data-test-id="header"]');if(null!==i){let{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":let n=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==n){let{height:e}=n.getBoundingClientRect();t+=e}break;case"SearchItem":let a=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==a){let{height:e}=a.getBoundingClientRect();t+=e}let r=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==r){let{height:e}=r.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`},s=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:i})=>(0,n.Z)(e||t||i||0),l=(e,t,i)=>{e?(0,a.My)(`${t}.mute_button.toggle_off`):(0,a.My)(`${t}.mute_button.toggle_on`),i({action:"click",item:"mute-button"})}},239821:(e,t,i)=>{"use strict";i.d(t,{g:()=>p,I:()=>c});var n=i(667294),a=i(342513),r=i(705895),s=i(259866);let l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},o=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:a,currentTime:r}=i,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:o,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,c=(0,s.Z)(d),p=(0,s.Z)(u);return!a&&o?e:(a?c[n]={pinId:n,currentTime:r,paused:!1}:p[n]={pinId:n,currentTime:r,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?o:n,promotedVideosAutoplaying:c,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:a,currentTime:r}=i,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:o,organicVideosAutoplaying:d}=l,u=(0,s.Z)(o),c=(0,s.Z)(d);return a?u[n]={...u[n],paused:!0,currentTime:r}:c[n]={...c[n],paused:!0,currentTime:r},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=i(785893);let{Provider:u,useHook:c}=(0,a.Z)("AppUI");function p({children:e}){let[t,i]=(0,n.useReducer)(o,l),a=(0,n.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),s=(0,n.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,n.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,n.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),g=(0,n.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,n.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),y=(0,n.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:g,toggleTypeaheadOverlay:m,setAppFocusState:s,appUI:t}),[a,c,p,h,g,m,s,t]);return(0,n.useEffect)(()=>{r.Z.onSessionResume(()=>{s(!0)}).onSessionPause(()=>{s(!1)})},[s]),(0,d.jsx)(u,{value:y,children:e})}},31327:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(467139);function a(e){return n.zI.includes(e)}},467139:(e,t,i)=>{"use strict";i.d(t,{UP:()=>l,Wv:()=>a,ZF:()=>n,zI:()=>r,zl:()=>s});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],r=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingTool"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],l=["BaseBoardPinGrid"]},968508:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},939809:(e,t,i)=>{"use strict";i.d(t,{Cy:()=>d,HE:()=>u,Mv:()=>r,PR:()=>g,Y4:()=>c,dL:()=>a,fS:()=>p,fv:()=>l,lu:()=>h,qS:()=>o,uc:()=>s});var n=i(666472);let a=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,n.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,n.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},h=e=>{let t=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},g=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},237040:(e,t,i)=>{"use strict";i.d(t,{Yg:()=>o,ib:()=>u,nF:()=>p,xX:()=>c});var n=i(340523),a=i(5859),r=i(554786),s=i(953565);let l=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,s.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},o=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,r.HG)(),{checkExperiment:i}=(0,n.F)();return e&&!t?l({checkExperiment:i}):{logStat:()=>{}}},d=0,u=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=l({checkExperiment:e});(d+=1)<10&&i(`repin_${d}`)};function c({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1}}}}function p(){let{checkExperiment:e}=(0,n.F)(),t=(0,r.HG)(),{isAuthenticated:i}=(0,a.B)();return c({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},253482:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var n,a=i(667294);i(422578);var r=i(883119),s=i(663056),l=i(54977),o=i(213377),d=i(140017),u=i(223785),c=i(340523),p=i(5859),h=i(678525),g=i(939809),m=i(785893);function y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let _=void 0!==n?n:n=i(51287),f=e=>{let t=e.reduce((e,t)=>{let{imageSizeMap:i}=t,{height:n,width:a}=i?.["736x"]||i?.["236x"]||{},r=`${a??1}x${n??1}`,s=e[r]?.times||0;return{...e,[r]:{imageHeight:n,imageWidth:a,times:s+1}}},{}),i=Object.keys(t).reduce((e,i)=>t[i].times>e.times?t[i]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:i.imageHeight,imageWidth:i.imageWidth}:null},S=(e,t,i,n,a,s,l,o,d,u,c,p,g,y,_,f,S)=>{let v;let{imageSizeMap:b,details:I=""}=i,E=236,T=236,P="";s?(E=474,T=b&&Math.min(E/.8,E/((b["564x"]?.width??1)/(b["564x"]?.height??1))),P=b&&b["564x"]?.url):b&&b["736x"]?(T=b&&b["736x"]&&b["736x"].height,E=b&&b["736x"]&&b["736x"].width,P=b&&b["736x"]&&b["736x"].url):b&&b["236x"]&&(T=b&&b["236x"]&&b["236x"].height,E=b&&b["236x"]&&b["236x"].width,P=b&&b["236x"]&&b["236x"].url),y&&_&&(T=Math.min(y*_,T??1)),v=l?`${b?.["236x"]?.url??""} 1x`:s?`${b?.["564x"]?.url??""} 1x`:[b?.["474x"]&&`${b["474x"].url??""} 2x`,b?.["736x"]&&`${b["736x"].url??""} 3x`,b?.orig&&`${b.orig.url??""} 4x`].filter(Boolean).join(", ");let w=(0,h.GH)(I,t,a),x=g?void 0:T,L=g?void 0:E,{boxHeight:k,boxWidth:O}=f?{boxHeight:f?.imageHeight,boxWidth:f?.imageWidth}:{boxHeight:x,boxWidth:L};return(0,m.jsx)(r.xu,{"data-test-id":"carousel-slot-container",height:k??void 0,width:O??void 0,children:(0,m.jsx)(r.xu,{"data-test-id":`carousel-img-${a}`,height:g?p:void 0,width:g||void 0,children:(0,m.jsx)(r.Ee,{_fixCompletedOnLoad:e,alt:w,crossOrigin:S?"anonymous":void 0,fit:g?"cover":"none",naturalHeight:T??1,naturalWidth:E??1,onError:o,onLoad:d,src:P??"",srcSet:v})})},`carousel-slot-${n}-${a}`)},v=({pinId:e,slot:t,slotIndex:i,onError:n,onLoad:a,widthToUse:s,gap:l},o)=>{let{url:d,width:u,height:c}=["564x","736x","474x","236x"].map(e=>t.imageSizeMap?.[e]).find(e=>e?.url)||{},{details:p=""}=t,g=(0,h.GH)(p,o,i);return(0,m.jsx)(r.xu,{"data-test-id":"carousel-slot-container",height:"100%",marginEnd:l,width:s,children:(0,m.jsx)(r.zd,{height:"100%",wash:!0,children:(0,m.jsx)(r.Ee,{alt:g,fit:"contain",naturalHeight:c??1,naturalWidth:u??1,onError:n,onLoad:a,src:d??""})})},`carousel-slot-${e}-${i}`)};class b extends a.Component{constructor(...e){super(...e),y(this,"state",{showBadge:!0,startImpressionTimer:!1}),y(this,"renderBadge",()=>{let{carouselData:e,isCloseup:t,showCarouselBadge:i}=this.props;if(!e)return null;let{showBadge:n}=this.state,{carouselSlots:a,index:s}=e;return!t&&i?(0,m.jsx)(r.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:n?.8:0,transition:"opacity .3s"}},"data-test-id":"carousel-badge",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new r.Ry(1),children:(0,m.jsx)(r.xv,{color:"inverse",children:`${(s??0)+1}/${(a??[]).length}`})}):null}),y(this,"onLoadImage",()=>{this.setState({startImpressionTimer:!0}),this.props.onLoad?.()}),y(this,"onImageLoadError",()=>{this.setState({startImpressionTimer:!1}),this.props.onError?.()})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:t}=this.state,{carouselData:i}=e,{carouselData:n}=this.props;if(!i||!n)return;let{index:a}=i,{index:r}=n;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),a!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){let e;let{isCloseup:t,carouselIndex:i,closeupHeight:n,closeupWidth:a=0,widthRatio:s=1,cropHeight:l,cropWidth:d,carouselData:c,disableTransition:p,highResOnly:y,lowResOnly:_,pinId:b,imageSignature:I,isEditMode:E,isDenseView:T,isThirdPartyAd:P,_fixCompletedOnLoad:w}=this.props;if(!c)return null;if(s>1||s<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:x}=c,L=c.index??0,k=void 0!==i?i:L??0,{imageSizeMap:O}=x[k]||{},A=Math.floor((e=t?a:!t&&d||(y?474:T?o.Lo:o.yF))*s),C=O?.["236x"]||{},R=l||C.height||0,D=d||C.width||236,N=n||R/D*A,F=f(x);return(0,m.jsxs)(r.xu,{alignItems:"center","data-test-id":"carousel-pin","data-test-image-signature":I,display:"flex",height:N,minHeight:u.Ml,overflow:"hidden",children:[!E&&this.renderBadge(),(0,m.jsx)(g.lu,{carouselData:{...c,type:"canonical"},impressionType:"Pin",isPaused:!this.state.startImpressionTimer,loggingId:b,slotIndex:L??0,viewParameter:72,viewType:1,children:({impressionTrackerRef:e})=>(0,m.jsx)(r.xu,{ref:e,"data-test-id":`carousel-impression-ref-${b}-${L}`,height:N,overflow:"hidden",position:"absolute",width:A})},`carousel-impression-key-${k}`),(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transition:p?"":"left .3s",left:(0,h.vF)(x.length,A,e,k)}},direction:"row",display:"flex",height:"100%",left:!0,position:"relative",width:A*x.length,children:x.map((i,r)=>{if(t){let t=r===x.length-1;return v({pinId:b,slot:i,slotIndex:r,onError:this.onImageLoadError,onLoad:this.onLoadImage,widthToUse:A,gap:A<e&&!t?1:0},this.props.i18n)}return S(w,this.props.i18n,i,b,r,y,_,this.onImageLoadError,this.onLoadImage,a,n,l,d,N,A,F,P)})})]})}}function I({pinKey:e,...t}){let i=(0,d.ZP)(),{checkExperiment:n}=(0,c.F)(),{isAuthenticated:a}=(0,p.B)(),r=(0,l.Z)(_,e),o=(0,s.Z)(r),u=o&&{...o,carouselSlots:function(e){let t=["236x","474x","564x","736x"].map(t=>{let i=Math.min(...e.map(e=>e.imageSizeMap?.[t]?.height||1/0)),n=Math.min(...e.map(e=>e.imageSizeMap?.[t]?.width||1/0));return{imageKey:t,height:i,width:n}});return e.map(e=>t.reduce((e,{imageKey:t,height:i,width:n})=>e.imageSizeMap?.[t]?{...e,imageSizeMap:{...e.imageSizeMap,[t]:{...e.imageSizeMap[t],height:i,width:n}}}:e,e))}(o.carouselSlots)};return(0,m.jsx)(b,{...t,carouselData:u,checkExperiment:n,i18n:i,imageSignature:r.imageSignature,isAuthenticated:a,pinId:r.entityId})}y(b,"defaultProps",{showCarouselBadge:!0})},678525:(e,t,i)=>{"use strict";i.d(t,{CU:()=>l,GH:()=>u,Iw:()=>d,gA:()=>c,tD:()=>o,vF:()=>p});let n=({index:e,numberOfSlides:t,slidesShownPerPosition:i})=>t-e-Math.floor(i)<1,a=({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t,r=({containerWidth:e,contentWidth:t,index:i,slotAndGapWidth:n})=>{let a=i-1,s=a*n;return t-s>=e?s:r({index:a,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},s=({containerWidth:e,contentWidth:t,gap:i,index:n,slidesShownPerPosition:s,slotAndGapWidth:l,paddingX:o})=>r({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:l})+a({slidesShownPerPosition:s,slotAndGapWidth:l})-i+(o?2*o:0),l=({containerWidth:e,gap:t,index:i,numberOfSlides:a,slotWidth:r,paddingX:l})=>{let o=r+t,d=o*a;if(d<=e)return 0;let u=e/o,c=n({index:i,numberOfSlides:a,slidesShownPerPosition:u})?s({containerWidth:e,contentWidth:d,gap:t,index:i,slidesShownPerPosition:u,slotAndGapWidth:o,paddingX:l}):i*o;return c?Math.round(-c):0},o=({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:a})=>{let r=a*n+t*(n-1);return 0!==e&&(r<=e||Math.abs(l({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:a}))+t>=r-e)},d=({containerWidth:e,currentIndex:t,gap:i,index:n,numberOfSlides:a,slotWidth:r})=>{let s=r+i;return s*a<=e||0===e||l({containerWidth:e,gap:i,index:t,numberOfSlides:a,slotWidth:r})+s*n<e+s},u=(e,t,i)=>e||`${t.bt("image de carrousel", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${i}`,c=({highResOnly:e,lowResOnly:t,slot:i})=>{let{images:n}=i;return t?`${n?.["236x"]?.url??""} 1x`:e?`${n?.["564x"]?.url??""} 1x`:[n?.["474x"]&&`${n["474x"].url??""} 2x`,n?.["736x"]&&`${n["736x"].url??""} 3x`,n?.orig&&`${n.orig.url??""} 4x`].filter(Boolean).join(", ")},p=(e,t,i,n,a=0)=>{if(i===t)return-(n*t*1);let r=Math.floor(i-t),s=t+a;return n===e-1?-1*n*s+r:-1*n*s}},718561:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>O});var n=i(667294),a=i(240684),r=i(883119),s=i(214877),l=i(920434),o=i(541841),d=i(59545),u=i(340523),c=i(149722),p=i(537513),h=i(369708),g=i(181056),m=i(784992),y=i(118923),_=i(832853),f=i(785893);function S(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let v=(0,a.ZP)({resolved:{},chunkName:()=>"app-www-video-VideoWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(93041),i.e(84452),i.e(95813)]).then(i.bind(i,131348)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return i(this.resolve(e))},resolve:()=>131348}),b=(0,_.Z)(()=>Promise.all([i.e(93041),i.e(84452),i.e(95813)]).then(i.bind(i,131348)),void 0,"app-www-video-VideoWrapper"),I=e=>(0,y.b)()?(0,f.jsx)(b,{...e}):(0,f.jsx)(v,{...e}),E=[0,.25,.5,.75,.95,.97],T=[0,.5,.8,.99,1],P={rootMargin:"-64px 0px 0px 0px",threshold:[...g.iM]},w=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return new Date().getTime()}function L(e){return!!e.volume&&e.volume>0}class k extends n.Component{constructor(e){super(e),S(this,"videoWrapperRef",(0,n.createRef)()),S(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),S(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),S(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),S(this,"handleLoop",()=>{this.videoTime=0}),S(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),S(this,"handleTimeChange",e=>{let{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;let n=1e3*e.time,a=function(e,t,i,n){if(e>t||i<=0)return null;for(let a of n){let n=a*i;if(e<=n&&t>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,E);if("number"==typeof a&&this.props.playing&&!t&&i){let e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)}),S(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),S(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),S(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),S(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=function(e,t){for(let i=0;i<t.length;i+=1){let n=t[i],a=t[i+1];if(null==a||n<=e&&e<a)return n}return null}(Number.parseFloat(e.slice(-1)[0].intersectionRatio.toFixed(2)),T);"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:w.PAUSED}):this.startNewInterval({viewability:t}))}),S(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),S(this,"handleClose",()=>{this.startNewInterval()}),S(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let t=x();this.handleWindowResize=(0,l.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:L(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let i={};L(e)&&!L(this.props)?i.isAudible=!1:!L(e)&&L(this.props)&&(i.isAudible=!0);let n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?w.PLAYING:w.PAUSED:w.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:a,playing:r,surface:s}=this.props,{seeking:l}=this.state,{height:o,width:d,windowHeight:u,windowWidth:c,viewability:p,...h}=t;if(null!=o&&null!=d&&null!=u&&null!=c&&null!=p){let t={...h,gridAutoplay:6904===e&&r&&!l&&("AuthHomefeed"===s||"SearchItem"===s||"RelatedPinGrid"===s||"PdpRelatedPinGrid"===s),height:o,width:d,windowHeight:u,windowWidth:c,viewability:i||p};a({event_type:e,...(0,m.Z)({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.state.started)return;let{contextLogData:e,setVideoPlayed:t,shouldLogVideoStart:i}=this.props;if(i){let e=x();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime})}t(e.objectId),this.setState({started:!0})}startNewInterval(e){let t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{rootMargin:e,surface:t,intersectionObserverExpEnabled:i,aspectRatio:n,backgroundColor:a,captions:s,contextLogData:l,controls:u,fallback:c,hlsConfig:h,isAutoPlay:g,loop:m,objectFit:y,onLoadedChange:_,onControlsPause:S,onControlsPlay:v,onSeek:b,onVolumeChange:E,playbackRate:T,playing:w,playsInline:x,poster:L,preload:k,src:O,videoStartTime:A,volume:C,video:R}=this.props,{seeking:D}=this.state;return void 0!==e&&(P.rootMargin=t?(0,p.eL)(t):e),i?(0,f.jsx)(d.Z,{onVisibilityChange:this.handleVisibilityChange,options:P,children:e=>(0,f.jsx)(r.xu,{ref:t=>{e.current=t,this.videoWrapperRef.current=t},onContextMenu:this.handleContextMenu,children:(0,f.jsx)(I,{aspectRatio:n,backgroundColor:a,captions:s,contextLogData:l,controls:u,fallback:c,hlsConfig:h,isAutoPlay:g,loop:m,objectFit:y,onControlsPause:S,onControlsPlay:v,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:E,playbackRate:T,playing:!D&&w,playsInline:x,poster:L,preload:k,src:O,video:R,videoStartTime:A,visible:this.visible,volume:C})})}):(0,f.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:P,children:(0,f.jsx)(r.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,children:(0,f.jsx)(I,{aspectRatio:n,backgroundColor:a,captions:s,contextLogData:l,controls:u,fallback:c,hlsConfig:h,isAutoPlay:g,loop:m,objectFit:y,onControlsPause:S,onControlsPlay:v,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:E,playbackRate:T,playing:!D&&w,playsInline:x,poster:L,preload:k,src:O,video:R,videoStartTime:A,visible:this.visible,volume:C})})})}}function O(e){let{logContextEvent:t}=(0,s.v)(),{checkExperiment:i}=(0,u.F)(),{setVideoPlayed:n}=(0,h.r)(),{isAuth:a}=(0,c.Z)(),r=i("web_video_start_log").anyEnabled,l=i(a?"web_intersection_observer_migration_auth":"web_intersection_observer_migration_unauth").anyEnabled;return(0,f.jsx)(k,{...e,intersectionObserverExpEnabled:l,logContextEvent:t,setVideoPlayed:n,shouldLogVideoStart:r})}S(k,"defaultProps",r.nk.defaultProps)},181056:(e,t,i)=>{"use strict";i.d(t,{Ul:()=>r,VS:()=>n,hy:()=>s,iM:()=>a,j4:()=>l});let n=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],r={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},s=128,l=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},784992:(e,t,i)=>{"use strict";function n(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:i,startTime:n,endTime:a,videoStartTime:r,videoEndTime:s,isAudible:l,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:g,viewability:m}},component:y,objectId:_,view:f,viewParameter:S,...v}=e;return{component:y,object_id_str:_,view_type:f,view_parameter:S,aux_data:{...v},event_data:{videoEventData:{gridAutoplay:t,videoDuration:i,time:n,endTime:a,videoTime:r,endVideoTime:s,isAudible:l,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:g,viewability:m}}}}i.d(t,{Z:()=>n})},84768:(e,t,i)=>{"use strict";i.d(t,{MM:()=>s,uo:()=>l,wH:()=>r});var n=i(342513),a=i(706196);let{Provider:r,useHook:s}=(0,n.Z)("HandlerId");function l(){let e=s();return(0,a.ac)(e).site}},366115:e=>{e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},310434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},107867:(e,t,i)=>{var n=i(206015);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var i={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i},e.exports.__esModule=!0,e.exports.default=e.exports},206015:e=>{function t(i,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(i,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/PinVideoWithVisibilityWrapper.fr-7127314437fd18a4.mjs.map